/**
*
*   Javascript string pad
*   http://www.webtoolkit.info/
*
*   Modified by github.com/netcell
*   as a node.js module with better arguments input
*
**/

var Args = require('args-js');

function render(length, character){
    return new Array(length + 1).join(character);
}

var acceptableDirections = ['RIGHT','LEFT','BOTH'];

module.exports = function pad() {

    var args = Args([
        {string:    Args.STRING   | Args.Required},
        {length:    Args.INT      | Args.Optional,
            _default: 0},
        {direction: Args.STRING   | Args.Optional,
            _default: 'RIGHT',
            _check:   function(direction){
                return acceptableDirections.indexOf(direction) >= 0;
            }},
        {character: Args.STRING   | Args.Optional,
            _default: ' '}
    ], arguments);

    var string    = args.string,
        length    = args.length,
        character = args.character,
        direction = args.direction,
        stringlen = string.length;

    if (length > stringlen) {

        var padlength = length - stringlen;
        
        switch (direction){
            case 'LEFT':
                string = render(padlength, character) + string;
            break;
            case 'BOTH':
                var right     = Math.ceil(padlength / 2),
                    left      = padlength - right;

                string = render(left, character) + string + render(right, character);
            break;
            default:
                string = string + render(padlength, character);
            break;
        }
    }

    return string;

};